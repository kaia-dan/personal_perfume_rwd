<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/personal_perfume_rwd/css/reset.css">
  <link rel="stylesheet" href="/personal_perfume_rwd/css/common.css">  
  <link rel="stylesheet" href="/personal_perfume_rwd/css/footer.css">

  <link href="https://fonts.googleapis.com/css?family=Noto+Sans:regular,italic,700,700italic" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,regular,500,700,900" rel="stylesheet" />
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css'/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js "></script>
  <script>
    document.addEventListener('DOMContentLoaded',()=>{
      navigationEffect()
      contentsEffect()
    })
//navigationEffect 시작
    function navigationEffect(){
     
      const mainMenu=document.querySelectorAll('#mainmenu_list>li>a');
      const subMenu=document.querySelectorAll('.submenu_list');

      let selectedMenu=null;

      initEvent();

      function initEvent(){
        for(const item of mainMenu){
          item.addEventListener('mouseenter',mainMenuOver)
          item.addEventListener('focus',mainMenuOver)
        }
        document.querySelector('#header_inner').addEventListener('mouseleave',mainMenuOut)

        const subMenu_a=document.querySelectorAll('.submenu_list>li>a')
        subMenu_a[subMenu_a.length-1].addEventListener('focusout',mainMenuOut)
      }

      function mainMenuOver(){
        //alert('test')
        menuInActivate(this)
        menuActivate(this)
      }

      function mainMenuOut(){
        menuInActivate(this)        
      }

      function menuInActivate(menu){
        if(selectedMenu!=null){         

          let unSelectedMenu=selectedMenu.nextElementSibling;
          gsap.to(unSelectedMenu,{opacity:0, top:50, duration:0.2, ease:'power1.out',onComplete:()=>{
            unSelectedMenu.style.display='none'
          }})
        }
      }

      function menuActivate(menu){        
      
          selectedMenu=menu
          let selectedSubMenu=selectedMenu.nextElementSibling;
          //alert('fdddd')
          //console.log(selectedSubMenu)
          gsap.to(selectedSubMenu,{display:'block', opacity:1, top:35, duration:0.3, ease:'power1.out'})
      }
    }

//contentsEffect 시작
    function contentsEffect(){

      const contentsList=document.querySelectorAll('#contents_service_list>li')
      const contentsImg=document.querySelectorAll('.contents_img>img')
      const movieBg=document.querySelector('.movie_wrap')
      const movieTitle=document.querySelector('#movie_title')
      const perfumeImg=document.querySelector('#perfume_icon')
      const diagnosisList=document.querySelectorAll('#contents_diagnosis_list>li')
      // alert(contentsList.length)

      

//contents 이미지 마우스오버효과 스크립트
      for(const item of contentsImg){
        item.addEventListener('mouseenter',imgOver)
        item.addEventListener('mouseleave',imgOut)

        gsap.to(contentsImg,{scale:'1.1'})
      }

      function imgOver(){
        gsap.to(this,{scale:'1'})
      }

      function imgOut(){
        gsap.to(this,{scale:'1.1'})
      }
        
//scroll속성 스크립트
      window.addEventListener('scroll',windowScroll)
      // window.addEventListener('scroll',windowScrollSecond)

      function windowScroll(){

        let scrollHeight=window.pageYOffset

//6개contents스크립트
        if(scrollHeight>=400){
          gsap.set(contentsList[0],{display:'block'})
          gsap.to(contentsList[0],{opacity:1, top:0, duration:1, ease:'power1.out'})
        }

        if(scrollHeight>=600){
          gsap.set(contentsList[1],{display:'block'})
          gsap.to(contentsList[1],{opacity:1, top:150, duration:1, ease:'power1.out'})
        }
        
        if(scrollHeight>=800){
          gsap.set(contentsList[2],{display:'block'})
          gsap.to(contentsList[2],{opacity:1, top:50, duration:1, ease:'power1.out'})
        }

        if(scrollHeight>=1050){
          gsap.set(contentsList[3],{display:'block'})
          gsap.to(contentsList[3],{opacity:1, top:0, duration:1, ease:'power1.out'})
        }

        if(scrollHeight>=1250){
          gsap.set(contentsList[4],{display:'block'})
          gsap.to(contentsList[4],{opacity:1, top:150, duration:1, ease:'power1.out'})
        }

        if(scrollHeight>=1450){
          gsap.set(contentsList[5],{display:'block'})
          gsap.to(contentsList[5],{opacity:1, top:50, duration:1, ease:'power1.out'})
        }
       
//movieBg 슬라이드효과 스크립트
        if(scrollHeight>=2000){
          //alert('test')
          movieBg.classList.add('movie_wrap_selected')
        }

//how it's made title 스크립트
        let positionWidth

        if(scrollHeight>=1600 && scrollHeight<=2300){
          positionWidth=(scrollHeight-2300)/1.7
        }else{
          positionWidth=0
        }
        gsap.set(movieTitle,{left:positionWidth})

//how it's made After 향수이미지 스크립트
        if(scrollHeight>=2400){
          perfumeImg.classList.add('afterEffect')
        }else{
          perfumeImg.classList.remove('afterEffect')
        }

//scent diagnosis 내용 스크립트 
        if(scrollHeight>=2900){
          gsap.set(diagnosisList[0],{display:'block'})
          gsap.to(diagnosisList[0],{opacity:1, duration:1.5, ease:'power1.out'})
        }
        
        if(scrollHeight>=3100){
          gsap.set(diagnosisList[1],{display:'block'})
          gsap.to(diagnosisList[1],{opacity:1, duration:1.5, ease:'power1.out'})
        }

        if(scrollHeight>=3300){
          gsap.set(diagnosisList[2],{display:'block'})
          gsap.to(diagnosisList[2],{opacity:1, duration:1.5, ease:'power1.out'})
        }

        if(scrollHeight>=3500){
          gsap.set(diagnosisList[3],{display:'block'})
          gsap.to(diagnosisList[3],{opacity:1, duration:1.5, ease:'power1.out'})
        }
      }
    }

    window.addEventListener('load',()=>{

      visualEffect()
      scriptMediascreen()
    })

//visualEffect함수시작
      function visualEffect(){

      const visualWrap=document.querySelector('#visual_wrap')
      const visualInner=document.querySelector('#visual_inner')
      const visualList=document.querySelector('#visual_list')
      const visualLi=document.querySelectorAll('#visual_list>li')
      const visualImg=document.querySelectorAll('#visual_list>li>img')
      // const dot=document.querySelectorAll('#slide_gather>li')

      let visualLength=visualLi.length
      let visualWidth
      let timer
      let isSlide=false

      let currentIndex=0
      let nextIndex

      // //dot 관련
      // let dotOverNum=0 //선택닷순번!!
      // let selectedDot 

      visualReset()
      init()
      initEvent()
      autoPlay()

      // //dot 관련
      // dotActivate(0) //버튼활성화


      function init(){

        gsap.set(visualLi,{opacity:0})
        gsap.set(visualLi[0],{opacity:1})
      }

      function visualReset(){

        visualWidth=visualInner.offsetWidth

        gsap.set(visualLi,{width:visualWidth})
        gsap.set(visualImg,{width:visualWidth})
        gsap.set(visualWrap,{height:visualImg[0].offsetHeight})
      }

      function initEvent(){

        window.addEventListener('resize',visualReset)
        // visualWrap.addEventListener('mouseenter',stopAutoPlay);        
        // visualWrap.addEventListener('mouseleave',autoPlay); 
      }

      function slideNext(){
          
          nextIndex=currentIndex+1

          if(nextIndex>=visualLength){
            nextIndex=0
          }
          gsap.to(visualLi[currentIndex],{opacity:0, duration:2, ease:'power1.out'})
          gsap.to(visualLi[nextIndex],{opacity:1, duration:2, ease:'power1.out', onComplete:()=>{
            isSlide=false
          }})
          currentIndex=nextIndex
      }

      // function slidePrev(){

      //   if(isSlide==false){

      //     isSlide=true

      //     nextIndex=currentIndex-1

      //     if(nextIndex<0){
      //       nextIndex=visualLength-1
      //     }

      //     gsap.to(visualLi[currentIndex],{opacity:0, duration:2, ease:'power1.out'})
      //     gsap.to(visualLi[nextIndex],{opacity:1, duration:2, ease:'power1.out', onComplete:()=>{
      //       isSlide=false
      //     }})
      //     currentIndex=nextIndex
      //   }
      // }
      
      function autoPlay(){ 
        timer=setInterval(slideNext,3000);
      }
    }

//스크립트미디어스크린적용함수시작
    function scriptMediascreen(){

      const contentsInner=document.querySelector('#contents_service_inner')
      const contentsLi=document.querySelectorAll('#contents_service_list>li')

      let contentsWidth

      contentsReset()
      initEvent()

      function contentsReset(){
        
        contentsWidth=contentsInner.offsetWidth

        if(contentsWidth<=980){
          for(const item of contentsLi){
          // alert('980')
          gsap.set(item,{top:0})
          // alert('top:0')
          }
        }
      }

      function initEvent(){

        window.addEventListener('resize',contentsReset)
      }
    }

  </script>
  <link rel="stylesheet" href="/personal_perfume_rwd/css/main.css">
  <link rel="stylesheet" href="/personal_perfume_rwd/css/media_screen.css">
  <title>향기</title>

</head>
<body>
  <!-- 바로가기메뉴시작 -->
<ul id="skipmenu_list"> 
  <li><a href="#">메뉴바로가기</a></li>
  <li><a href="#">본문바로가기</a></li>
  <li><a href="#">하단바로가기</a></li>
</ul>
<!-- 바로가기메뉴끝 -->
  <!-- 헤더영역시작 -->
  <div id="header_wrap">
  <header id="header_inner">
    <h1 id="logo">
      <a href="/personal_perfume_rwd/index.php">
      <img src="/personal_perfume_rwd/images/logo.png" alt="향기로고">
      </a>
    </h1>
    <nav id="topmenu">
      <h2 class="hidden">로그인회원가입</h2>
      <ul id="topmenu_list">
        <li><a href="#">Login</a></li>
        <li><a href="#">Sign up</a></li>
      </ul>
    </nav>
    <nav id="mainmenu">
      <h2 class="hidden">메인메뉴</h2>
      <ul id="mainmenu_list">
        <li><a href="/personal_perfume_rwd/brand/brand.html">香氣향기</a>
          <ul class="submenu_list">
            <li><a href="#">subMenu_00</a></li>
            <li><a href="#">subMenu_01</a></li>
            <li><a href="#">subMenu_02</a></li>
            <li><a href="#">subMenu_03</a></li>
          </ul>
        </li>
        <li><a href="/personal_perfume_rwd/personal_scent/personal_scent.php">퍼스널향기</a>
          <ul class="submenu_list">
            <li><a href="#">퍼스널향기란?</a></li>
            <li><a href="#">퍼스널컬러란?</a></li>
          </ul>
        </li>
        <li><a href="/personal_perfume_rwd/scent_diagnosis/scent_diagnosis.php">향기진단</a>
          <ul class="submenu_list">
            <li><a href="#">subMenu_00</a></li>
            <li><a href="#">subMenu_01</a></li>
            <li><a href="#">subMenu_02</a></li>
            <li><a href="#">subMenu_03</a></li>
          </ul>
        </li>
        <li><a href="/personal_perfume_rwd/scent_shop/scent_shop.php">향기샵</a>
          <ul class="submenu_list">
            <li><a href="#">subMenu_00</a></li>
            <li><a href="#">subMenu_01</a></li>
            <li><a href="#">subMenu_02</a></li>
          </ul>
        </li>
        <li><a href="#">고객지원</a>
          <ul class="submenu_list">
            <li><a href="#">커뮤니티</a></li>
            <li><a href="#">고객후기</a></li>
            <li><a href="#">이벤트</a></li>
            <li><a href="#">Q&A</a></li>
          </ul>
        </li>
      </ul>
    </nav>
    <nav id="mobilemenu">
      <h2 class="hidden">모바일메뉴</h2>
      <i id="mobile_hamberger">
        <a href="#"><img src="/personal_perfume_rwd/images/mobile_hamberger.png" alt="모바일메뉴"></a>
      </i>
    </nav>
  </header>
</div>
<!-- 헤더영역끝 -->
  <!-- 비쥬얼영역시작 -->
  <section id="visual_wrap">
  <div id="visual_inner">
    <h2 class="hidden">향기메인비쥬얼</h2>
    <ul id="visual_list">
      <li><a href="#"><img src="/personal_perfume_rwd/images/visual.png" alt="향기사이트비쥬얼"></a></li>
      <li><a href="#"><img src="/personal_perfume_rwd/images/visual.png" alt="향기사이트비쥬얼"></a></li>
      <li><a href="#"><img src="/personal_perfume_rwd/images/visual.png" alt="향기사이트비쥬얼"></a></li>
      <!-- 비쥬얼네비게이터시작 -->
      <ul id="slide_gather">
        <li class="selected"><a href="#">첫번째슬라이드</a></li>
        <li><a href="#">두번째슬라이드</a></li>
        <li><a href="#">세번째슬라이드</a></li>
      </ul>
      <!-- 비쥬얼네비게이터끝 -->
    </ul>
  </div>
  </section>
  <!-- 비쥬얼영역끝 -->
  <!-- 컨텐츠영역시작 -->
  <!-- 컨텐츠_service영역시작 -->
  <div id="contents_wrap_all">
  <div id="contents_service_wrap">
    <section id="contents_service_inner">
      <h2 class="hidden">향기브랜드서비스</h2>
      <p id="contents_title_small">SERVISE</p>
      <p id="contents_title_big">PERSONAL PERFUME LIFE</p>
      <ul id="contents_service_list">
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_1.png" alt="향기브랜드란?">
          </p>
          <p class="contents_text_big">
            WHAT'S  香氣 ?
          </p>
          <p class="contents_text_small">
            우리 香氣(향기)는 업계 전문가가 여러분의 퍼스널 컬러와 취향, 니즈를 정확히 분석, 파악하여 나를 더 매력적으로 표현할수 있는 커스텀 향수를 제조해드리는 서비스를 제공합니다.
          </p>
        </li>
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_2.png" alt="예민한피부에안전하다">
          </p>
          <p class="contents_text_big">
            BE SAFE FOR SENSITIVE SKIN
          </p>
          <p class="contents_text_small">
            香氣 는 친환경 자연주의 브랜드입니다. 최상의 천연향료를 사용하여 향수를 제작하고, 철저한 연구 검증을 통해 원료를 엄선하여 민감성 피부나 알러지반응에 더없이 순하고 안전합니다.
          </p>
        </li>
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_3.png" alt="향수와예술활동">
          </p>
          <p class="contents_text_big">
            PERFUME AND ARTISTIC ACTIVITIES
          </p>
          <p class="contents_text_small">
            고객의 퍼스널 컬러를 기반으로 커스터마이징 퍼스널 향기를 코디해드림 뿐만 아니라 제조된 향기에 어울리는 미술작품과 음악, 향기의 이야기를 함께 선물해 드려 보다 풍부하고 품격있는 향기 이용을 경험하실 수 있습니다.
          </p>
        </li>
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_4.png" alt="건강한아로마테라피효과">
          </p>
          <p class="contents_text_big">
            HEALTHY AROMATHERAPY EFFECT
          </p>
          <p class="contents_text_small">
            천연 아로마 오일을 사용하여 자연에서 오는 편안함을 느끼실 수 있으며, 단순 기분 뿐만이 아닌 생리적 효과나 각종 신경성, 정신적 장애나 몸의 질환에도 탁월한 아로마 테라피 효과를 보실수 있습니다.
          </p>
        </li>
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_5.png" alt="향기브랜드란?">
          </p>
          <p class="contents_text_big">
            SCENT SUBSCRIPTION
          </p>
          <p class="contents_text_small">
            향기는 향기구독서비스를 제공합니다. 매달 재검사를 통해 컨디션변화에 맞추어 향수를 새로이 맞춤제작해드리며 고객여러분의 퍼스널향기를 데이터로 보관하여 통계분석을 통해 더욱 세심한 향수제조를 도와드립니다.
          </p>
        </li>
        <li>
          <p class="contents_img">
            <img src="/personal_perfume_rwd/images/contents_img_6.png" alt="환경을위한기부">
          </p>
          <p class="contents_text_big">
            DONATION FOR THE ENVIRONMENT
          </p>
          <p class="contents_text_small">
            자연이 훼손되면 상쾌한 나무내음도, 시원한 바다 향기도 기억 저편으로 사라져 버리고 없겠죠. 소중한 우리 모두의 추억을 지켜나가고자 구매액의 일부가 자연복원 및 환경문제 해결을 위해 기부됩니다.
          </p>
        </li>
      </ul>
    </section>
  </div>
  <!-- 컨텐츠_servise영역끝 -->
  <!-- 컨텐츠_movie영역시작 -->
  <div id="movie_wrap">
    <div id="movie_inner">
      <h2 class="hidden">향수가어떻게만들어졌는지</h2>
      <p id="movie_title">HOW IT'S MADE</p>
      <h2 class="hidden">향기제작영상</h2>
      <div id="movie">
      <img src="/personal_perfume_rwd/movie/movie_img.png" alt="동영상대체이미지">
      <!-- <embed id="make_movie"width="1600" height="900" src="https://www.youtube.com/embed/qsEpv6n5ZgE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></embed> -->
      </div>
    </div>
  </div>
  <!-- 컨텐츠_movie영역끝 -->
  <!-- 컨텐츠_SCENT DIAGNOSIS영역시작 -->
  <div id="contents_diagnosis_wrap">
    <div id="contents_diagnosis_inner">
      <h2 class="hidden">향기진단에대하여</h2>
      <p id="contents_diagnosis_title">SCENT DIAGNOSIS</p>
      <ul id="contents_diagnosis_list">
        <li>
          <p class="contents_diagnosis_text">고객의 이미지 분석과 설문지 작성으로 개인성향 및 성격, 선호컬러,향기를 진단합니다.</p>
        </li>
        <li>
          <p class="contents_diagnosis_text">종합진단 결과의 내용과 고객님의 이미지를 토대로 전문 조향사가 커스터마이즈 향수를 제조합니다. </p>
        </li>
        <li>
          <p class="contents_diagnosis_text">이세상 단 하나뿐인 나를 연상시키는 이미지, 나만의 퍼스널 향수와 함께 하세요. </p>
        </li>
        <li>
          <p class="contents_diagnosis_text">완성된 나만의 퍼스널향수와 잘 어울리는 느낌의 미술작품과 음악을 스토리텔링해드려 보다 풍부하고 생생한 시향을 도와드립니다. </p>
        </li>
      </ul>
      <p id="myperfumemake_text">
        <a href="#">나만의 향수 만나러가기
        <i class="fas fa-angle-right"></i></a>
      </p>
    </div>
  </div>
  <!-- 컨텐츠_SCENT DIAGNOSIS영역끝 -->
  </div>
  <!-- 컨텐츠영역끝 -->
  <!-- 푸터영역시작 -->
<div id="footer_wrap">
  <div id="footer_inner">
    <!-- <p id="ph_num">010-5369-4982</p>  
    <p id="imformation">(주)향기 대표 김소정</p> -->
  </div>
</div>
<!-- 푸터영역끝 -->

</body>
</html>
